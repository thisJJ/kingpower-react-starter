{"version":3,"file":"0.6d68fb8e43089cbd4e3e.hot-update.js","sources":["webpack:///src/Document.js","webpack:///src/containers/Home/container.js","webpack:///src/routes.js","webpack:///src/server.js","webpack:///external \"@jaredpalmer/after\""],"sourcesContent":["import React from 'react';\r\nimport { AfterRoot, AfterData } from '@jaredpalmer/after';\r\n\r\nimport serialize from 'serialize-javascript';\r\n\r\nclass CustomDocument extends React.Component {\r\n  static async getInitialProps({ assets, data, renderPage }) {\r\n    const page = await renderPage();\r\n    return { assets, data, ...page };\r\n  }\r\n\r\n  render() {\r\n    const { helmet, assets, data, serverState } = this.props;\r\n\r\n    // get attributes from React Helmet\r\n    const htmlAttrs = helmet.htmlAttributes.toComponent();\r\n    const bodyAttrs = helmet.bodyAttributes.toComponent();\r\n    return (\r\n      <html {...htmlAttrs}>\r\n        <head>\r\n          <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n          <meta charSet=\"utf-8\" />\r\n          <title>React Rezzle After Antd Saga</title>\r\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n          {helmet.title.toComponent()}\r\n          {helmet.meta.toComponent()}\r\n          {helmet.link.toComponent()}\r\n          {assets.client.css && (\r\n            <link rel=\"stylesheet\" href={assets.client.css} />\r\n          )}\r\n          {process.env.NODE_ENV === 'production' ? (\r\n            <span\r\n              dangerouslySetInnerHTML={{\r\n                __html: `<script src=\"${assets.client.js}\" defer></script>`,\r\n              }}\r\n            />\r\n          ) : (\r\n            <span\r\n              dangerouslySetInnerHTML={\r\n                { __html: `<script src=\"${assets.client.js}\" defer crossorigin></script>` } // prettier-ignore\r\n              }\r\n            />\r\n          )}\r\n        </head>\r\n        <body {...bodyAttrs}>\r\n          <AfterRoot />\r\n          <AfterData data={data} />\r\n          <span\r\n            dangerouslySetInnerHTML={\r\n              { __html: `<script>window.__PRELOADED_STATE__ = ${serialize(serverState)}</script>` } // prettier-ignore\r\n            }\r\n          />\r\n        </body>\r\n      </html>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomDocument;\r\n\n\n\n// WEBPACK FOOTER //\n// src/Document.js","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'antd'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport * as CounterActions from '~/actions';\n\nimport logo from '~/static/react.svg';\nimport '~/static/Home.css';\n\nclass Home extends React.Component {\n  static async getInitialProps({ req, res, match}) {\n    console.log('store ', match)\n    return {  };\n  }\n  render() {\n    return (\n      <div className=\"Home\">\n        <div className=\"Home-header\">\n          <img src={logo} className=\"Home-logo\" alt=\"logo\" />\n          <h2>Welcome to Razzle</h2>\n        </div>\n        <ul className=\"Home-resources\">\n          <li>\n            <Link to={`/about`}>About</Link>\n          </li>\n        </ul>\n        <div>\n          <Button onClick={ this.props.increment } type=\"primary\">+</Button>\n          { this.props.count }\n          <Button onClick={ this.props.decrement } type=\"primary\">-</Button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  count: state.counter.count,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(CounterActions, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n\n\n// WEBPACK FOOTER //\n// src/containers/Home/container.js","import React from 'react';\n\nimport { asyncComponent } from '@jaredpalmer/after';\nimport Home from '~/containers/Home/container'\nexport default [\n  {\n    path: '/',\n    exact: true,\n    component: Home,\n  },\n];\n\n\n\n// WEBPACK FOOTER //\n// src/routes.js","import React from 'react';\nimport express from 'express';\nimport { render } from '@jaredpalmer/after';\nimport { Provider } from 'react-redux';\nimport routes from '~/routes';\nimport { renderToString } from 'react-dom/server';\n// import qs from 'qs';\nimport Document from '~/Document';\nimport configureStore from '~/config/store';\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\nserver\n  .disable('x-powered-by')\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get('/*', async (req, res) => {\n    try {\n      // Read the counter from the request, if provided\n      // const params = qs.parse(req.query);\n      // console.log(req)\n      // console.log(res)\n      // const counter = parseInt(params.counter, 10) || 0;\n\n      // Compile initial state\n      const preloadedState = {};\n\n      // Create a new Redux store instance\n      const store = configureStore(preloadedState);\n\n      // Grab the initial state from our Redux store\n      const serverState = store.getState();\n\n      const customRenderer = (node) => {\n        const App = <Provider store={store}>{node}</Provider>;\n        return {\n          html: renderToString(App),\n          // Anything else you add here will be made available\n          // within document's this.props\n          // e.g a redux store...\n          serverState,\n        };\n      };\n\n      const html = await render({\n        req,\n        res,\n        routes,\n        assets,\n        document: Document,\n        customRenderer,\n      });\n      res.send(html);\n    } catch (error) {\n      res.json(error);\n    }\n  });\n\nexport default server;\n\n\n\n// WEBPACK FOOTER //\n// src/server.js","module.exports = require(\"@jaredpalmer/after\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@jaredpalmer/after\"\n// module id = @jaredpalmer/after\n// module chunks = 0"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAlBA;AAyBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAHA;AA1BA;AAqCA;;;;;AAjDA;AAAA;AAAA;;;;;;;AACA;AACA;;AADA;AACA;AACA;;;;;;;;;;;;;;;;;;AAJA;AACA;AAoDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAVA;AAiBA;;;;;AAvBA;AAAA;AAAA;;;;;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAJA;AACA;AA2BA;AAAA;AACA;AADA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AA3BA;AAAA;AA6BA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AA7BA;AA4BA;AACA;AAOA;AApCA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAqCA;AACA;AAvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AA4CA;;;;;;;ACzDA;;;;A","sourceRoot":""}